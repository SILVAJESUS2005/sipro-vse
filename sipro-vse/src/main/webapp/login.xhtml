<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="jakarta.faces.facelets">
    <h:head>
        <title>Login - SIPRO VSE</title>
    </h:head>
    <h:body>
        <h:form>
            <p:panel header="Acceso al sistema SIPRO VSE" style="width:400px; margin:auto; margin-top:50px">
                <p:messages id="msgs" showDetail="true" closable="true"/>
                <h:panelGrid columns="2" cellpadding="5">
                    <h:outputLabel for="correo" value="Correo:" />
                    <p:inputText id="correo" value="#{loginBean.correo}" required="true" label="Correo" requiredMessage="El correo es obligatorio." autocomplete="username"/>

                    <h:outputLabel for="contrasena" value="Contraseña:" />
                    <p:password id="contrasena" value="#{loginBean.contrasena}" required="true" label="Contraseña" requiredMessage="La contraseña es obligatoria." autocomplete="current-password"/>
                </h:panelGrid>
                <p:message for="correo"/>
                <p:message for="contrasena"/>

                <p:commandButton value="Iniciar sesión"
                                 action="#{loginBean.login}"
                                 update="msgs"
                                 style="margin-top:10px; width:100%;"/>
                <p:separator/>
                <p:commandLink value="¿No tienes cuenta? Regístrate"
                               onclick="PF('registroDialog').show(); return false;" style="display:block; text-align:center;"/>
            </p:panel>
        </h:form>
        <p:dialog header="Registro de usuario" widgetVar="registroDialog" modal="true" width="500" resizable="false">
            <ui:include src="registro.xhtml"/>
        </p:dialog>
    </h:body>
</html>